{"version":3,"file":"index.mjs","sources":["../lib/main.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2026 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isComplexDataType from '@stdlib/ndarray-base-assert-is-complex-floating-point-data-type';\nimport { isPrimitive as isNumber } from '@stdlib/assert-is-number';\nimport isAccessorArray from '@stdlib/array-base-assert-is-accessor-array';\nimport accessorSetter from '@stdlib/array-base-accessor-setter';\nimport setter from '@stdlib/array-base-setter';\nimport azeros from '@stdlib/array-base-zeros';\nimport getDType from '@stdlib/ndarray-base-dtype';\nimport getShape from '@stdlib/ndarray-base-shape';\nimport getOrder from '@stdlib/ndarray-base-order';\nimport buffer from '@stdlib/ndarray-base-buffer';\nimport resolveStr from '@stdlib/ndarray-base-dtype-resolve-str';\nimport format from '@stdlib/error-tools-fmtprodmsg';\n\n\n// MAIN //\n\n/**\n* Broadcasts a scalar value to an ndarray having the same shape and data type as a provided input ndarray.\n*\n* @param {ndarray} x - input array\n* @param {*} value - scalar value\n* @throws {TypeError} first argument must have a recognized data type\n* @returns {ndarray} ndarray\n*\n* @example\n* import zeros from '@stdlib/ndarray-base-zeros';\n* import getDType from '@stdlib/ndarray-dtype';\n*\n* var x = zeros( 'float32', [ 2, 2 ], 'row-major' );\n* // returns <ndarray>[ [ 0.0, 0.0 ], [ 0.0, 0.0 ] ]\n*\n* var y = broadcastScalarLike( x, 1.0 );\n* // returns <ndarray>[ [ 1.0, 1.0 ], [ 1.0, 1.0 ] ]\n*\n* var dt = String( getDType( y ) );\n* // returns 'float32'\n*/\nfunction broadcastScalarLike( x, value ) {\n\tvar buf;\n\tvar set;\n\tvar sh;\n\tvar dt;\n\tvar N;\n\n\tdt = resolveStr( getDType( x ) );\n\tbuf = buffer( dt, 1 );\n\tif ( buf === null ) {\n\t\tthrow new TypeError( format( 'null5L', dt ) );\n\t}\n\tif ( isComplexDataType( dt ) && isNumber( value ) ) {\n\t\tvalue = [ value, 0.0 ]; // note: we're assuming that the ComplexXXArray setter accepts an array of interleaved real and imaginary components\n\t}\n\tif ( isAccessorArray( buf ) ) {\n\t\tset = accessorSetter( dt );\n\t} else {\n\t\tset = setter( dt );\n\t}\n\tset( buf, 0, value );\n\tsh = getShape( x, true );\n\tN = sh.length || 1;\n\treturn new x.constructor( dt, buf, sh, azeros( N ), 0, getOrder( x ) );\n}\n\n\n// EXPORTS //\n\nexport default broadcastScalarLike;\n"],"names":["broadcastScalarLike","x","value","buf","sh","dt","N","resolveStr","getDType","buffer","TypeError","format","isComplexDataType","isNumber","isAccessorArray","accessorSetter","setter","getShape","length","constructor","azeros","getOrder"],"mappings":";;qrCA2DA,SAASA,EAAqBC,EAAGC,GAChC,IAAIC,EAEAC,EACAC,EACAC,EAIJ,GAFAD,EAAKE,EAAYC,EAAUP,IAEd,QADbE,EAAMM,EAAQJ,EAAI,IAEjB,MAAM,IAAIK,UAAWC,EAAQ,SAAUN,IAaxC,OAXKO,EAAmBP,IAAQQ,EAAUX,KACzCA,EAAQ,CAAEA,EAAO,KAEbY,EAAiBX,GACfY,EAAgBV,GAEhBW,EAAQX,IAEVF,EAAK,EAAGD,GAEbI,GADAF,EAAKa,EAAUhB,GAAG,IACXiB,QAAU,EACV,IAAIjB,EAAEkB,YAAad,EAAIF,EAAKC,EAAIgB,EAAQd,GAAK,EAAGe,EAAUpB,GAClE"}